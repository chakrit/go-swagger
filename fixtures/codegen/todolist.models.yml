swagger: '2.0'

info:
  version: "1.0.0"
  title: Private to-do list
  description: |
    A very simple api description that makes a json only API to submit to do's.

produces:
  - application/json

consumes:
  - application/json

paths:
  /models:
    get:
      operationId: modelOp
      summary: many model variations
      description: Used to see if a codegen can render all the possible parameter variations for a header param
      tags:
        - testcgen
      responses:
        default:
          description: Generic Out
definitions:
  Tag:
    type: "object"
    required:
      - name
    properties:
      name:
        type: string
        minLength: 2
        maxLength: 50
        Pattern: "[A-Za-z0-9][\\w- ]+"
  Notable:
    type: object
    properties:
      notes:
        type: string
        minLength: 5
  Scores:
    type: array
    items:
      type: number
      format: float
  WithItems:
    type: object
    properties:
      tags:
        type: array
        items:
          type: string
  Age:
    type: integer
    format: int32
  Nota:
    type: object
    additionalProperties:
      type: integer
      format: int32

  WithRef:
    type: object
    properties:
      notes:
        $ref: "#/definitions/Notable"
  WithNullableRef:
    type: object
    properties:
      notes:
        allOf:
          - $ref: "#/definitions/Notable"
          - x-isnullable: true

  WithMap:
    type: object
    properties:
      data:
        type: object
        additionalProperties:
          type: string
  WithAdditional:
    type: object
    properties:
      data:
        type: object
        properties:
          name:
            type: string
        additionalProperties:
          type: string
  JustRef:
    $ref: "#/definitions/Notable"

  WithAllOf:
    type: object
    allOf:
      - $ref: "#/definitions/Notable"
      - type: object
        additionalProperties:
          type: integer
          format: int32
      - type: object
        properties:
          title:
            type: string
            minLength: 5
            maxLength: 140
          body:
            type: string
            minLength: 5
            maxLength: 2048

  Comment:
    type: "object"
    required:
      - content
    allOf:
      - $ref: "#/definitions/Notable"
      - type: object
        additionalProperties:
          type: integer
          format: int32
      - type: object
        properties:
          id:
            title: The id of the comment.
            description: A unique identifier for the comment. These are created in ascending order.
            type: integer
            format: int64
            readOnly: true
          scores:
            $ref: "#/definitions/Scores"
          age:
            $ref: "#/definitions/Age"
          latestTag:
            type: object
            allOf:
              - $ref: "#/definitions/Tag"
              - x-isnullable: true
          tags:
            type: array
            uniqueItems: true
            minItems: 1
            maxItems: 5
            items:
              $ref: "#/definitions/Tag"
          createdAt:
            title: The time at which this comment was created.
            description: This field is autogenerated when the content is posted.
            type: string
            format: date-time
            readOnly: true
          content:
            type: object
            allOf:
              - $ref: "#/definitions/Notable"
              - type: object
                additionalProperties:
                  type: integer
                  format: int32
              - type: object
                properties:
                  title:
                    type: string
                    minLength: 5
                    maxLength: 140
                  body:
                    type: string
                    minLength: 5
                    maxLength: 2048

